import {
    fetchWeathers as fetchWeathersApi
} from 'api';

export const fetchWeathers = (zip, units) => async dispatch => {
    dispatch({type: 'FETCH_WEATHER_START'});

    try {
        const weather = await fetchWeathersApi(zip, units);
        dispatch({
            type: 'FETCH_WEATHER_SUCCESS',
            payload: weather
        })
    } catch (err) {
        dispatch({
            type: 'FETCH_WEATHER_FAILURE',
            payload: err,
            error: true
        })
    }
};
